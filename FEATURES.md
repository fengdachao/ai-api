# 功能特性详解 ✨

## Web聊天界面功能

### 🤖 多模型AI对话

**支持的模型：**
- GPT-4 / GPT-4 Turbo / GPT-3.5 Turbo
- Claude 3.5 Sonnet / Claude 3 Opus / Claude 3 Sonnet

**如何使用：**
1. 点击左侧边栏的"模型选择"下拉菜单
2. 选择您想使用的AI模型
3. 所选模型会立即应用到后续对话

**特点：**
- 实时切换，无需刷新页面
- 模型选择自动保存到本地
- 顶部显示当前使用的模型徽章

---

### 💬 实时对话

**发送消息：**
- 输入文本后按 `Enter` 发送
- 按 `Shift + Enter` 换行
- 点击发送按钮 📤

**消息显示：**
- 用户消息显示在右侧（蓝色头像）
- AI回复显示在左侧（机器人头像）
- 每条消息显示发送时间
- 支持Markdown格式渲染

**代码支持：**
```javascript
// 代码会自动高亮显示
function hello() {
    console.log("Hello World!");
}
```

- 自动语法高亮
- 一键复制代码
- 支持多种编程语言

---

### 💾 对话历史管理

**自动保存：**
- 所有对话自动保存到浏览器本地
- 刷新页面不会丢失对话
- 最多保存50个对话记录

**历史记录：**
- 左侧边栏显示所有历史对话
- 点击历史记录可快速加载
- 显示对话标题和时间
- 支持删除单个对话

**新建对话：**
- 点击左上角 ➕ 按钮
- 自动保存当前对话
- 开始全新的对话

---

### 🌓 主题切换

**深色/浅色主题：**
- 点击左下角"主题切换"按钮
- 一键切换深色/浅色模式
- 主题选择自动保存
- 适配系统偏好设置

**主题特点：**
- 护眼的配色方案
- 平滑过渡动画
- 所有元素完美适配
- 移动端同样支持

---

### 📊 服务状态监控

**实时状态：**
- 左下角显示服务状态指示器
- 🟢 绿点：服务正常
- 🔴 红点：服务离线
- 每30秒自动检查

**状态信息：**
- "服务正常" - 可以正常使用
- "服务离线" - 无法连接到后端
- "检查中..." - 正在验证连接

---

### 📱 响应式设计

**桌面端：**
- 侧边栏+主聊天区域布局
- 宽屏优化显示
- 鼠标悬停效果

**移动端：**
- 自适应小屏幕
- 汉堡菜单切换侧边栏
- 触摸优化
- 舒适的阅读体验

**平板端：**
- 中等屏幕优化
- 保持完整功能
- 灵活的布局调整

---

## API功能

### 🔌 RESTful API端点

#### 1. 健康检查
```bash
GET /health
```
返回：
```json
{
  "status": "healthy",
  "cursor_api_configured": true
}
```

#### 2. 获取模型列表
```bash
GET /models
```
返回所有可用的AI模型及详细信息。

#### 3. 聊天对话
```bash
POST /chat
Content-Type: application/json

{
  "model": "gpt-4",
  "messages": [
    {"role": "user", "content": "你好"}
  ]
}
```

#### 4. 透明API转发
```bash
POST /api/v1/chat/completions
```
直接转发到Cursor API，保持完全兼容。

---

### 🔐 安全特性

**API密钥保护：**
- 密钥存储在服务器端
- 前端无法访问密钥
- 自动注入到API请求

**可选认证：**
- 支持Bearer Token认证
- 保护API端点
- 灵活的访问控制

**速率限制：**
- 防止API滥用
- 可配置限流策略
- 基于IP地址限制

**CORS配置：**
- 支持跨域请求
- 灵活的域名白名单
- 生产环境可定制

---

### 📝 日志系统

**完整日志记录：**
- 所有请求都会记录
- 包含来源IP、时间戳
- 记录响应状态
- 错误详细信息

**日志功能：**
- 自动轮转（500MB）
- 保留10天历史
- 可配置日志级别
- 支持控制台输出

**日志位置：**
```
logs/proxy.log
```

**查看日志：**
```bash
tail -f logs/proxy.log
```

---

## 高级功能

### 🚀 性能优化

**异步处理：**
- 全异步架构
- 高并发支持
- 非阻塞I/O

**连接池：**
- HTTP连接复用
- 减少连接开销
- 提升响应速度

**静态文件缓存：**
- 浏览器缓存优化
- 减少网络传输
- 快速页面加载

---

### 🔧 可定制配置

**环境变量：**
- 灵活的配置选项
- 无需修改代码
- 支持.env文件

**主要配置项：**
```bash
# API配置
CURSOR_API_URL=https://api2.cursor.sh
CURSOR_API_KEY=your-key

# 服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_WORKERS=4

# 安全配置
ENABLE_AUTH=false
AUTH_TOKEN=secret

# 限流配置
RATE_LIMIT=60
```

---

### 🐳 Docker支持

**快速部署：**
```bash
docker-compose up -d
```

**特点：**
- 一键启动
- 环境隔离
- 易于维护
- 跨平台兼容

---

## 用户体验优化

### ✨ 界面细节

**加载状态：**
- 发送消息时显示打字动画
- 三个点跳动效果
- 清晰的加载反馈

**错误处理：**
- 友好的错误提示
- 详细的错误信息
- 自动重试建议

**复制功能：**
- 一键复制消息
- 一键复制代码
- 复制成功提示

**输入优化：**
- 自动调整输入框高度
- 支持多行输入
- 快捷键提示

---

### 🎨 UI/UX设计

**现代化界面：**
- 简洁美观
- 卡片式设计
- 圆角和阴影

**动画效果：**
- 消息淡入动画
- 平滑滚动
- 悬停效果
- 过渡动画

**可访问性：**
- 语义化HTML
- 键盘导航支持
- 清晰的视觉反馈
- 适配屏幕阅读器

---

## 实用场景

### 📚 适用场景

1. **个人AI助手**
   - 日常问答
   - 代码辅助
   - 文档撰写

2. **团队协作**
   - 局域网共享
   - 多人使用
   - 统一配置

3. **开发测试**
   - API调试
   - 模型对比
   - 功能验证

4. **学习研究**
   - AI模型体验
   - 提示词测试
   - 效果评估

---

## 未来扩展

### 🔮 可能的增强功能

- [ ] 流式响应支持（SSE/WebSocket）
- [ ] 多用户系统
- [ ] 对话分享功能
- [ ] 插件系统
- [ ] 语音输入/输出
- [ ] 图像生成支持
- [ ] 更多AI模型集成
- [ ] 数据导出功能

---

## 总结

这个项目提供了：
- ✅ 完整的Web聊天界面
- ✅ 强大的API代理功能
- ✅ 多模型支持
- ✅ 本地部署，数据安全
- ✅ 易于使用和维护
- ✅ 丰富的自定义选项

**立即开始使用，享受AI的强大功能！** 🚀
